2022-07-06 23:40:13.470 -04:00 [INF] User profile is available. Using 'C:\Users\jeevanthapa\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-07-06 23:40:15.593 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'MySpotDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.4+6cb649128e3e7aa8eddd77dfa75b34bad51e6e94' with options: None
2022-07-06 23:40:16.320 -04:00 [INF] Executed DbCommand (71ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2022-07-06 23:40:16.407 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2022-07-06 23:40:16.440 -04:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2022-07-06 23:40:16.469 -04:00 [INF] No migrations were applied. The database is already up to date.
2022-07-06 23:40:16.776 -04:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "WeeklyParkingSpots" AS w)
2022-07-06 23:40:36.078 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost/ - -
2022-07-06 23:40:36.378 -04:00 [INF] Executing endpoint 'MySpot.Api.Controllers.HomeController.Get (MySpot.Api)'
2022-07-06 23:40:36.410 -04:00 [INF] Route matched with {action = "Get", controller = "Home"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult Get() on controller MySpot.Api.Controllers.HomeController (MySpot.Api).
2022-07-06 23:42:27.065 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2022-07-06 23:42:27.118 -04:00 [INF] Executed action MySpot.Api.Controllers.HomeController.Get (MySpot.Api) in 110682.9787ms
2022-07-06 23:42:27.134 -04:00 [INF] Executed endpoint 'MySpot.Api.Controllers.HomeController.Get (MySpot.Api)'
2022-07-06 23:42:27.144 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost/ - - - 200 - text/plain;+charset=utf-8 111069.4149ms
2022-07-07 10:24:39.667 -04:00 [INF] User profile is available. Using 'C:\Users\jeevanthapa\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-07-07 10:24:42.289 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'MySpotDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.4+6cb649128e3e7aa8eddd77dfa75b34bad51e6e94' with options: None
2022-07-07 10:24:43.238 -04:00 [INF] Executed DbCommand (102ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2022-07-07 10:24:43.389 -04:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2022-07-07 10:24:43.435 -04:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2022-07-07 10:24:43.470 -04:00 [INF] No migrations were applied. The database is already up to date.
2022-07-07 10:24:43.789 -04:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "WeeklyParkingSpots" AS w)
2022-07-07 10:24:51.174 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost/ - -
2022-07-07 10:24:52.142 -04:00 [INF] Executing endpoint 'MySpot.Api.Controllers.HomeController.Get (MySpot.Api)'
2022-07-07 10:24:52.169 -04:00 [INF] Route matched with {action = "Get", controller = "Home"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult Get() on controller MySpot.Api.Controllers.HomeController (MySpot.Api).
2022-07-07 10:26:03.700 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2022-07-07 10:26:03.751 -04:00 [INF] Executed action MySpot.Api.Controllers.HomeController.Get (MySpot.Api) in 71543.0412ms
2022-07-07 10:26:03.757 -04:00 [INF] Executed endpoint 'MySpot.Api.Controllers.HomeController.Get (MySpot.Api)'
2022-07-07 10:26:03.769 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost/ - - - 200 - text/plain;+charset=utf-8 72597.2126ms
2022-07-07 10:31:04.632 -04:00 [INF] User profile is available. Using 'C:\Users\jeevanthapa\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-07-07 10:31:06.678 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'MySpotDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.4+6cb649128e3e7aa8eddd77dfa75b34bad51e6e94' with options: None
2022-07-07 10:31:07.609 -04:00 [INF] Executed DbCommand (99ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2022-07-07 10:31:07.725 -04:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2022-07-07 10:31:07.777 -04:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2022-07-07 10:31:07.838 -04:00 [INF] No migrations were applied. The database is already up to date.
2022-07-07 10:31:08.191 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "WeeklyParkingSpots" AS w)
2022-07-07 10:31:13.846 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost/ - -
2022-07-07 10:31:14.075 -04:00 [INF] Executing endpoint 'MySpot.Api.Controllers.HomeController.Get (MySpot.Api)'
2022-07-07 10:31:14.106 -04:00 [INF] Route matched with {action = "Get", controller = "Home"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult Get() on controller MySpot.Api.Controllers.HomeController (MySpot.Api).
2022-07-07 10:32:55.652 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2022-07-07 10:32:55.698 -04:00 [INF] Executed action MySpot.Api.Controllers.HomeController.Get (MySpot.Api) in 101566.783ms
2022-07-07 10:32:55.703 -04:00 [INF] Executed endpoint 'MySpot.Api.Controllers.HomeController.Get (MySpot.Api)'
2022-07-07 10:32:55.740 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost/ - - - 200 - text/plain;+charset=utf-8 101872.4863ms
2022-07-07 10:45:15.167 -04:00 [INF] User profile is available. Using 'C:\Users\jeevanthapa\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-07-07 10:45:17.195 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'MySpotDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.4+6cb649128e3e7aa8eddd77dfa75b34bad51e6e94' with options: None
2022-07-07 10:45:17.979 -04:00 [INF] Executed DbCommand (67ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2022-07-07 10:45:18.129 -04:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2022-07-07 10:45:18.184 -04:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2022-07-07 10:45:18.224 -04:00 [INF] No migrations were applied. The database is already up to date.
2022-07-07 10:45:18.513 -04:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "WeeklyParkingSpots" AS w)
2022-07-07 10:46:13.517 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost/ - -
2022-07-07 10:46:14.721 -04:00 [INF] Executing endpoint 'MySpot.Api.Controllers.HomeController.Get (MySpot.Api)'
2022-07-07 10:46:14.750 -04:00 [INF] Route matched with {action = "Get", controller = "Home"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult Get() on controller MySpot.Api.Controllers.HomeController (MySpot.Api).
2022-07-07 10:46:27.116 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2022-07-07 10:46:27.151 -04:00 [INF] Executed action MySpot.Api.Controllers.HomeController.Get (MySpot.Api) in 12378.6723ms
2022-07-07 10:46:27.164 -04:00 [INF] Executed endpoint 'MySpot.Api.Controllers.HomeController.Get (MySpot.Api)'
2022-07-07 10:46:27.193 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost/ - - - 200 - text/plain;+charset=utf-8 13685.6473ms
2022-07-09 13:35:00.774 -04:00 [INF] User profile is available. Using 'C:\Users\jeevanthapa\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-07-09 13:35:06.028 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'MySpotDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.4+6cb649128e3e7aa8eddd77dfa75b34bad51e6e94' with options: None
2022-07-09 13:35:12.474 -04:00 [INF] Executed DbCommand (3,247ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE DATABASE "MySpot-test";
2022-07-09 13:35:13.331 -04:00 [INF] Executed DbCommand (76ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2022-07-09 13:35:13.564 -04:00 [INF] Executed DbCommand (64ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2022-07-09 13:35:13.601 -04:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2022-07-09 13:35:13.652 -04:00 [INF] Applying migration '20220628144311_Users'.
2022-07-09 13:35:13.761 -04:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Users" (
    "Id" uuid NOT NULL,
    "Email" character varying(100) NOT NULL,
    "Username" character varying(30) NOT NULL,
    "Password" character varying(200) NOT NULL,
    "FullName" character varying(100) NOT NULL,
    "Role" character varying(30) NOT NULL,
    "CreatedAt" timestamp without time zone NOT NULL,
    CONSTRAINT "PK_Users" PRIMARY KEY ("Id")
);
2022-07-09 13:35:13.784 -04:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "WeeklyParkingSpots" (
    "Id" uuid NOT NULL,
    "Week" timestamp with time zone NOT NULL,
    "Name" text NOT NULL,
    "Capacity" integer NOT NULL,
    CONSTRAINT "PK_WeeklyParkingSpots" PRIMARY KEY ("Id")
);
2022-07-09 13:35:13.833 -04:00 [INF] Executed DbCommand (43ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Reservations" (
    "Id" uuid NOT NULL,
    "Capacity" integer NOT NULL,
    "Date" timestamp with time zone NOT NULL,
    "Type" text NOT NULL,
    "WeeklyParkingSpotId" uuid NULL,
    "UserId" uuid NULL,
    "EmployeeName" text NULL,
    "LicencePlate" text NULL,
    CONSTRAINT "PK_Reservations" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_Reservations_Users_UserId" FOREIGN KEY ("UserId") REFERENCES "Users" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_Reservations_WeeklyParkingSpots_WeeklyParkingSpotId" FOREIGN KEY ("WeeklyParkingSpotId") REFERENCES "WeeklyParkingSpots" ("Id")
);
2022-07-09 13:35:13.847 -04:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Reservations_UserId" ON "Reservations" ("UserId");
2022-07-09 13:35:13.873 -04:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Reservations_WeeklyParkingSpotId" ON "Reservations" ("WeeklyParkingSpotId");
2022-07-09 13:35:13.887 -04:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_Users_Email" ON "Users" ("Email");
2022-07-09 13:35:13.904 -04:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_Users_Username" ON "Users" ("Username");
2022-07-09 13:35:13.913 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20220628144311_Users', '6.0.4');
2022-07-09 13:35:14.685 -04:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "WeeklyParkingSpots" AS w)
2022-07-09 13:35:15.196 -04:00 [INF] Executed DbCommand (65ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Int32), @p2='?', @p3='?' (DbType = DateTimeOffset), @p4='?' (DbType = Guid), @p5='?' (DbType = Int32), @p6='?', @p7='?' (DbType = DateTimeOffset), @p8='?' (DbType = Guid), @p9='?' (DbType = Int32), @p10='?', @p11='?' (DbType = DateTimeOffset), @p12='?' (DbType = Guid), @p13='?' (DbType = Int32), @p14='?', @p15='?' (DbType = DateTimeOffset), @p16='?' (DbType = Guid), @p17='?' (DbType = Int32), @p18='?', @p19='?' (DbType = DateTimeOffset)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "WeeklyParkingSpots" ("Id", "Capacity", "Name", "Week")
VALUES (@p0, @p1, @p2, @p3);
INSERT INTO "WeeklyParkingSpots" ("Id", "Capacity", "Name", "Week")
VALUES (@p4, @p5, @p6, @p7);
INSERT INTO "WeeklyParkingSpots" ("Id", "Capacity", "Name", "Week")
VALUES (@p8, @p9, @p10, @p11);
INSERT INTO "WeeklyParkingSpots" ("Id", "Capacity", "Name", "Week")
VALUES (@p12, @p13, @p14, @p15);
INSERT INTO "WeeklyParkingSpots" ("Id", "Capacity", "Name", "Week")
VALUES (@p16, @p17, @p18, @p19);
2022-07-09 13:35:37.254 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost/ - -
2022-07-09 13:35:37.887 -04:00 [INF] Executing endpoint 'MySpot.Api.Controllers.HomeController.Get (MySpot.Api)'
2022-07-09 13:35:37.948 -04:00 [INF] Route matched with {action = "Get", controller = "Home"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult Get() on controller MySpot.Api.Controllers.HomeController (MySpot.Api).
2022-07-09 13:35:50.571 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2022-07-09 13:35:50.630 -04:00 [INF] Executed action MySpot.Api.Controllers.HomeController.Get (MySpot.Api) in 12636.0285ms
2022-07-09 13:35:50.662 -04:00 [INF] Executed endpoint 'MySpot.Api.Controllers.HomeController.Get (MySpot.Api)'
2022-07-09 13:35:50.687 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost/ - - - 200 - text/plain;+charset=utf-8 13438.5520ms
2022-07-09 14:46:13.244 -04:00 [INF] User profile is available. Using 'C:\Users\jeevanthapa\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-07-09 14:46:15.054 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'MySpotDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.4+6cb649128e3e7aa8eddd77dfa75b34bad51e6e94' with options: None
2022-07-09 14:46:15.558 -04:00 [INF] Executed DbCommand (48ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2022-07-09 14:46:15.635 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2022-07-09 14:46:15.672 -04:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2022-07-09 14:46:15.697 -04:00 [INF] No migrations were applied. The database is already up to date.
2022-07-09 14:46:15.989 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "WeeklyParkingSpots" AS w)
2022-07-09 14:46:42.524 -04:00 [INF] Request starting HTTP/1.1 POST http://localhost/users application/json;+charset=utf-8 158
2022-07-09 14:46:42.996 -04:00 [INF] Executing endpoint 'MySpot.Api.Controllers.UsersController.Post (MySpot.Api)'
2022-07-09 14:46:43.013 -04:00 [INF] Route matched with {action = "Post", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Post(MySpot.Application.Commands.SignUp) on controller MySpot.Api.Controllers.UsersController (MySpot.Api).
2022-07-09 14:47:24.136 -04:00 [INF] Started handling a command: sign_up...
2022-07-09 14:47:24.142 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'MySpotDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.4+6cb649128e3e7aa8eddd77dfa75b34bad51e6e94' with options: None
2022-07-09 14:47:52.474 -04:00 [INF] Executed DbCommand (13ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."FullName", u."Password", u."Role", u."Username"
FROM "Users" AS u
WHERE u."Email" = @__email_0
LIMIT 2
2022-07-09 14:47:52.489 -04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."FullName", u."Password", u."Role", u."Username"
FROM "Users" AS u
WHERE u."Username" = @__username_0
LIMIT 2
2022-07-09 14:48:55.067 -04:00 [INF] Executed DbCommand (11ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?', @p5='?', @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Users" ("Id", "CreatedAt", "Email", "FullName", "Password", "Role", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2022-07-09 14:48:55.102 -04:00 [INF] Completed handling a command: sign_up.
2022-07-09 14:50:10.790 -04:00 [INF] Executing CreatedAtActionResult, writing value of type 'null'.
2022-07-09 14:50:10.847 -04:00 [INF] Executed action MySpot.Api.Controllers.UsersController.Post (MySpot.Api) in 207825.0638ms
2022-07-09 14:50:10.852 -04:00 [INF] Executed endpoint 'MySpot.Api.Controllers.UsersController.Post (MySpot.Api)'
2022-07-09 14:50:10.899 -04:00 [INF] Request finished HTTP/1.1 POST http://localhost/users application/json;+charset=utf-8 158 - 201 0 - 208379.4584ms
2022-07-09 15:55:17.887 -04:00 [INF] User profile is available. Using 'C:\Users\jeevanthapa\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-07-09 15:55:20.008 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'MySpotDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.4+6cb649128e3e7aa8eddd77dfa75b34bad51e6e94' with options: None
2022-07-09 15:55:20.947 -04:00 [INF] Executed DbCommand (101ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2022-07-09 15:55:21.068 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2022-07-09 15:55:21.114 -04:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2022-07-09 15:55:21.147 -04:00 [INF] No migrations were applied. The database is already up to date.
2022-07-09 15:55:21.614 -04:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "WeeklyParkingSpots" AS w)
2022-07-09 15:56:27.284 -04:00 [INF] Request starting HTTP/1.1 POST http://localhost/users application/json;+charset=utf-8 158
2022-07-09 15:56:27.726 -04:00 [INF] Executing endpoint 'MySpot.Api.Controllers.UsersController.Post (MySpot.Api)'
2022-07-09 15:56:27.744 -04:00 [INF] Route matched with {action = "Post", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Post(MySpot.Application.Commands.SignUp) on controller MySpot.Api.Controllers.UsersController (MySpot.Api).
2022-07-09 15:56:31.664 -04:00 [INF] Started handling a command: sign_up...
2022-07-09 15:56:31.673 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'MySpotDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.4+6cb649128e3e7aa8eddd77dfa75b34bad51e6e94' with options: None
2022-07-09 15:56:35.006 -04:00 [INF] Executed DbCommand (32ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."FullName", u."Password", u."Role", u."Username"
FROM "Users" AS u
WHERE u."Email" = @__email_0
LIMIT 2
2022-07-09 15:56:35.513 -04:00 [INF] Executed action MySpot.Api.Controllers.UsersController.Post (MySpot.Api) in 7761.4644ms
2022-07-09 15:56:35.521 -04:00 [INF] Executed endpoint 'MySpot.Api.Controllers.UsersController.Post (MySpot.Api)'
2022-07-09 15:56:35.645 -04:00 [ERR] Email: 'test-user@myspot.io' already in use.
MySpot.Application.Exceptions.EmailAlreadyInUseException: Email: 'test-user@myspot.io' already in use.
   at MySpot.Application.Commands.Handlers.SignUpHandler.HandleAsync(SignUp command) in c:\Users\jeevanthapa\Desktop\DotNetCourses\SolidApiDevMentor\MySpot\src\MySpot.Application\Commands\Handlers\SignUpHandler.cs:line 35
   at MySpot.Infrastructure.DAL.PostgresUnitOfWork.ExecuteAsync(Func`1 action) in c:\Users\jeevanthapa\Desktop\DotNetCourses\SolidApiDevMentor\MySpot\src\MySpot.Infrastructure\DAL\PostgresUnitOfWork.cs:line 16
   at MySpot.Infrastructure.DAL.PostgresUnitOfWork.ExecuteAsync(Func`1 action) in c:\Users\jeevanthapa\Desktop\DotNetCourses\SolidApiDevMentor\MySpot\src\MySpot.Infrastructure\DAL\PostgresUnitOfWork.cs:line 23
   at MySpot.Infrastructure.DAL.PostgresUnitOfWork.ExecuteAsync(Func`1 action) in c:\Users\jeevanthapa\Desktop\DotNetCourses\SolidApiDevMentor\MySpot\src\MySpot.Infrastructure\DAL\PostgresUnitOfWork.cs:line 24
   at MySpot.Infrastructure.DAL.Decorators.UnitOfWorkCommandHandlerDecorator`1.HandleAsync(TCommand command) in c:\Users\jeevanthapa\Desktop\DotNetCourses\SolidApiDevMentor\MySpot\src\MySpot.Infrastructure\DAL\Decorators\UnitOfWorkCommandHandlerDecorator.cs:line 19
   at MySpot.Infrastructure.Logging.Decorators.LoggingCommandHandlerDecorator`1.HandleAsync(TCommand command) in c:\Users\jeevanthapa\Desktop\DotNetCourses\SolidApiDevMentor\MySpot\src\MySpot.Infrastructure\Logging\Decorators\LoggingCommandHandlerDecorator.cs:line 23
   at MySpot.Api.Controllers.UsersController.Post(SignUp command) in C:\Users\jeevanthapa\Desktop\DotNetCourses\SolidApiDevMentor\MySpot\src\MySpot.Api\Controllers\UsersController.cs:line 86
   at lambda_method51(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.ReDoc.ReDocMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at MySpot.Infrastructure.Exceptions.ExceptionMiddleware.InvokeAsync(HttpContext context, RequestDelegate next) in c:\Users\jeevanthapa\Desktop\DotNetCourses\SolidApiDevMentor\MySpot\src\MySpot.Infrastructure\Exceptions\ExceptionMiddleware.cs:line 21
2022-07-09 15:56:35.760 -04:00 [INF] Request finished HTTP/1.1 POST http://localhost/users application/json;+charset=utf-8 158 - 400 - application/json;+charset=utf-8 8476.9995ms
2022-07-09 16:01:06.457 -04:00 [INF] User profile is available. Using 'C:\Users\jeevanthapa\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-07-09 16:01:07.807 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'MySpotDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.4+6cb649128e3e7aa8eddd77dfa75b34bad51e6e94' with options: None
2022-07-09 16:01:09.939 -04:00 [INF] Executed DbCommand (1,545ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE DATABASE "MySpot-test";
2022-07-09 16:01:10.399 -04:00 [INF] Executed DbCommand (51ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2022-07-09 16:01:10.506 -04:00 [INF] Executed DbCommand (28ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2022-07-09 16:01:10.522 -04:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2022-07-09 16:01:10.542 -04:00 [INF] Applying migration '20220628144311_Users'.
2022-07-09 16:01:10.618 -04:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Users" (
    "Id" uuid NOT NULL,
    "Email" character varying(100) NOT NULL,
    "Username" character varying(30) NOT NULL,
    "Password" character varying(200) NOT NULL,
    "FullName" character varying(100) NOT NULL,
    "Role" character varying(30) NOT NULL,
    "CreatedAt" timestamp without time zone NOT NULL,
    CONSTRAINT "PK_Users" PRIMARY KEY ("Id")
);
2022-07-09 16:01:10.630 -04:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "WeeklyParkingSpots" (
    "Id" uuid NOT NULL,
    "Week" timestamp with time zone NOT NULL,
    "Name" text NOT NULL,
    "Capacity" integer NOT NULL,
    CONSTRAINT "PK_WeeklyParkingSpots" PRIMARY KEY ("Id")
);
2022-07-09 16:01:10.647 -04:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Reservations" (
    "Id" uuid NOT NULL,
    "Capacity" integer NOT NULL,
    "Date" timestamp with time zone NOT NULL,
    "Type" text NOT NULL,
    "WeeklyParkingSpotId" uuid NULL,
    "UserId" uuid NULL,
    "EmployeeName" text NULL,
    "LicencePlate" text NULL,
    CONSTRAINT "PK_Reservations" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_Reservations_Users_UserId" FOREIGN KEY ("UserId") REFERENCES "Users" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_Reservations_WeeklyParkingSpots_WeeklyParkingSpotId" FOREIGN KEY ("WeeklyParkingSpotId") REFERENCES "WeeklyParkingSpots" ("Id")
);
2022-07-09 16:01:10.654 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Reservations_UserId" ON "Reservations" ("UserId");
2022-07-09 16:01:10.660 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Reservations_WeeklyParkingSpotId" ON "Reservations" ("WeeklyParkingSpotId");
2022-07-09 16:01:10.667 -04:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_Users_Email" ON "Users" ("Email");
2022-07-09 16:01:10.674 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_Users_Username" ON "Users" ("Username");
2022-07-09 16:01:10.679 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20220628144311_Users', '6.0.4');
2022-07-09 16:01:10.966 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "WeeklyParkingSpots" AS w)
2022-07-09 16:01:11.137 -04:00 [INF] Executed DbCommand (23ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Int32), @p2='?', @p3='?' (DbType = DateTimeOffset), @p4='?' (DbType = Guid), @p5='?' (DbType = Int32), @p6='?', @p7='?' (DbType = DateTimeOffset), @p8='?' (DbType = Guid), @p9='?' (DbType = Int32), @p10='?', @p11='?' (DbType = DateTimeOffset), @p12='?' (DbType = Guid), @p13='?' (DbType = Int32), @p14='?', @p15='?' (DbType = DateTimeOffset), @p16='?' (DbType = Guid), @p17='?' (DbType = Int32), @p18='?', @p19='?' (DbType = DateTimeOffset)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "WeeklyParkingSpots" ("Id", "Capacity", "Name", "Week")
VALUES (@p0, @p1, @p2, @p3);
INSERT INTO "WeeklyParkingSpots" ("Id", "Capacity", "Name", "Week")
VALUES (@p4, @p5, @p6, @p7);
INSERT INTO "WeeklyParkingSpots" ("Id", "Capacity", "Name", "Week")
VALUES (@p8, @p9, @p10, @p11);
INSERT INTO "WeeklyParkingSpots" ("Id", "Capacity", "Name", "Week")
VALUES (@p12, @p13, @p14, @p15);
INSERT INTO "WeeklyParkingSpots" ("Id", "Capacity", "Name", "Week")
VALUES (@p16, @p17, @p18, @p19);
2022-07-09 16:02:56.744 -04:00 [INF] User profile is available. Using 'C:\Users\jeevanthapa\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-07-09 16:02:58.338 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'MySpotDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.4+6cb649128e3e7aa8eddd77dfa75b34bad51e6e94' with options: None
2022-07-09 16:02:59.075 -04:00 [INF] Executed DbCommand (76ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2022-07-09 16:02:59.176 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2022-07-09 16:02:59.220 -04:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2022-07-09 16:02:59.258 -04:00 [INF] No migrations were applied. The database is already up to date.
2022-07-09 16:02:59.682 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "WeeklyParkingSpots" AS w)
2022-07-09 16:03:51.162 -04:00 [INF] Request starting HTTP/1.1 POST http://localhost/users application/json;+charset=utf-8 158
2022-07-09 16:03:51.297 -04:00 [INF] Executing endpoint 'MySpot.Api.Controllers.UsersController.Post (MySpot.Api)'
2022-07-09 16:03:51.320 -04:00 [INF] Route matched with {action = "Post", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Post(MySpot.Application.Commands.SignUp) on controller MySpot.Api.Controllers.UsersController (MySpot.Api).
2022-07-09 16:03:54.767 -04:00 [INF] Started handling a command: sign_up...
2022-07-09 16:03:54.774 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'MySpotDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.4+6cb649128e3e7aa8eddd77dfa75b34bad51e6e94' with options: None
2022-07-09 16:03:56.722 -04:00 [INF] Executed DbCommand (10ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."FullName", u."Password", u."Role", u."Username"
FROM "Users" AS u
WHERE u."Email" = @__email_0
LIMIT 2
2022-07-09 16:03:56.732 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."FullName", u."Password", u."Role", u."Username"
FROM "Users" AS u
WHERE u."Username" = @__username_0
LIMIT 2
2022-07-09 16:04:06.275 -04:00 [INF] Executed DbCommand (25ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?', @p5='?', @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Users" ("Id", "CreatedAt", "Email", "FullName", "Password", "Role", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2022-07-09 16:04:06.346 -04:00 [INF] Completed handling a command: sign_up.
2022-07-09 16:04:08.703 -04:00 [INF] Executing CreatedAtActionResult, writing value of type 'null'.
2022-07-09 16:04:08.748 -04:00 [INF] Executed action MySpot.Api.Controllers.UsersController.Post (MySpot.Api) in 17420.7882ms
2022-07-09 16:04:08.752 -04:00 [INF] Executed endpoint 'MySpot.Api.Controllers.UsersController.Post (MySpot.Api)'
2022-07-09 16:04:08.767 -04:00 [INF] Request finished HTTP/1.1 POST http://localhost/users application/json;+charset=utf-8 158 - 201 0 - 17606.2787ms
2022-07-10 22:38:36.075 -04:00 [INF] User profile is available. Using 'C:\Users\jeevanthapa\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-07-10 22:38:37.542 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'MySpotDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.4+6cb649128e3e7aa8eddd77dfa75b34bad51e6e94' with options: None
2022-07-10 22:38:40.242 -04:00 [INF] Executed DbCommand (2,165ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE DATABASE "MySpot-test";
2022-07-10 22:38:40.496 -04:00 [INF] Executed DbCommand (39ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2022-07-10 22:38:40.564 -04:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2022-07-10 22:38:40.574 -04:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2022-07-10 22:38:40.589 -04:00 [INF] Applying migration '20220628144311_Users'.
2022-07-10 22:38:40.629 -04:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Users" (
    "Id" uuid NOT NULL,
    "Email" character varying(100) NOT NULL,
    "Username" character varying(30) NOT NULL,
    "Password" character varying(200) NOT NULL,
    "FullName" character varying(100) NOT NULL,
    "Role" character varying(30) NOT NULL,
    "CreatedAt" timestamp without time zone NOT NULL,
    CONSTRAINT "PK_Users" PRIMARY KEY ("Id")
);
2022-07-10 22:38:40.644 -04:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "WeeklyParkingSpots" (
    "Id" uuid NOT NULL,
    "Week" timestamp with time zone NOT NULL,
    "Name" text NOT NULL,
    "Capacity" integer NOT NULL,
    CONSTRAINT "PK_WeeklyParkingSpots" PRIMARY KEY ("Id")
);
2022-07-10 22:38:40.667 -04:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Reservations" (
    "Id" uuid NOT NULL,
    "Capacity" integer NOT NULL,
    "Date" timestamp with time zone NOT NULL,
    "Type" text NOT NULL,
    "WeeklyParkingSpotId" uuid NULL,
    "UserId" uuid NULL,
    "EmployeeName" text NULL,
    "LicencePlate" text NULL,
    CONSTRAINT "PK_Reservations" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_Reservations_Users_UserId" FOREIGN KEY ("UserId") REFERENCES "Users" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_Reservations_WeeklyParkingSpots_WeeklyParkingSpotId" FOREIGN KEY ("WeeklyParkingSpotId") REFERENCES "WeeklyParkingSpots" ("Id")
);
2022-07-10 22:38:40.673 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Reservations_UserId" ON "Reservations" ("UserId");
2022-07-10 22:38:40.678 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Reservations_WeeklyParkingSpotId" ON "Reservations" ("WeeklyParkingSpotId");
2022-07-10 22:38:40.684 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_Users_Email" ON "Users" ("Email");
2022-07-10 22:38:40.689 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_Users_Username" ON "Users" ("Username");
2022-07-10 22:38:40.693 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20220628144311_Users', '6.0.4');
2022-07-10 22:38:40.903 -04:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "WeeklyParkingSpots" AS w)
2022-07-10 22:38:41.154 -04:00 [INF] Executed DbCommand (26ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Int32), @p2='?', @p3='?' (DbType = DateTimeOffset), @p4='?' (DbType = Guid), @p5='?' (DbType = Int32), @p6='?', @p7='?' (DbType = DateTimeOffset), @p8='?' (DbType = Guid), @p9='?' (DbType = Int32), @p10='?', @p11='?' (DbType = DateTimeOffset), @p12='?' (DbType = Guid), @p13='?' (DbType = Int32), @p14='?', @p15='?' (DbType = DateTimeOffset), @p16='?' (DbType = Guid), @p17='?' (DbType = Int32), @p18='?', @p19='?' (DbType = DateTimeOffset)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "WeeklyParkingSpots" ("Id", "Capacity", "Name", "Week")
VALUES (@p0, @p1, @p2, @p3);
INSERT INTO "WeeklyParkingSpots" ("Id", "Capacity", "Name", "Week")
VALUES (@p4, @p5, @p6, @p7);
INSERT INTO "WeeklyParkingSpots" ("Id", "Capacity", "Name", "Week")
VALUES (@p8, @p9, @p10, @p11);
INSERT INTO "WeeklyParkingSpots" ("Id", "Capacity", "Name", "Week")
VALUES (@p12, @p13, @p14, @p15);
INSERT INTO "WeeklyParkingSpots" ("Id", "Capacity", "Name", "Week")
VALUES (@p16, @p17, @p18, @p19);
2022-07-10 22:40:37.328 -04:00 [INF] Request starting HTTP/1.1 POST http://localhost/users/sign-in application/json;+charset=utf-8 52
2022-07-10 22:40:37.596 -04:00 [INF] Executing endpoint 'MySpot.Api.Controllers.UsersController.Post (MySpot.Api)'
2022-07-10 22:40:37.628 -04:00 [INF] Route matched with {action = "Post", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MySpot.Application.DTO.JwtDto]] Post(MySpot.Application.Commands.SignIn) on controller MySpot.Api.Controllers.UsersController (MySpot.Api).
2022-07-10 22:40:48.387 -04:00 [INF] Started handling a command: sign_in...
2022-07-10 22:40:48.402 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'MySpotDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.4+6cb649128e3e7aa8eddd77dfa75b34bad51e6e94' with options: None
2022-07-10 22:40:57.029 -04:00 [INF] Executed action MySpot.Api.Controllers.UsersController.Post (MySpot.Api) in 19394.5718ms
2022-07-10 22:40:57.033 -04:00 [INF] Executed endpoint 'MySpot.Api.Controllers.UsersController.Post (MySpot.Api)'
2022-07-10 22:40:57.099 -04:00 [ERR] System error.
System.Security.Authentication.InvalidCredentialException: System error.
   at MySpot.Application.Commands.Handlers.SignInHandler.HandleAsync(SignIn command) in c:\Users\jeevanthapa\Desktop\DotNetCourses\SolidApiDevMentor\MySpot\src\MySpot.Application\Commands\Handlers\SignInHandler.cs:line 31
   at MySpot.Infrastructure.DAL.PostgresUnitOfWork.ExecuteAsync(Func`1 action) in C:\Users\jeevanthapa\Desktop\DotNetCourses\SolidApiDevMentor\MySpot\src\MySpot.Infrastructure\DAL\PostgresUnitOfWork.cs:line 16
   at MySpot.Infrastructure.DAL.PostgresUnitOfWork.ExecuteAsync(Func`1 action) in C:\Users\jeevanthapa\Desktop\DotNetCourses\SolidApiDevMentor\MySpot\src\MySpot.Infrastructure\DAL\PostgresUnitOfWork.cs:line 23
   at MySpot.Infrastructure.DAL.PostgresUnitOfWork.ExecuteAsync(Func`1 action) in C:\Users\jeevanthapa\Desktop\DotNetCourses\SolidApiDevMentor\MySpot\src\MySpot.Infrastructure\DAL\PostgresUnitOfWork.cs:line 24
   at MySpot.Infrastructure.DAL.Decorators.UnitOfWorkCommandHandlerDecorator`1.HandleAsync(TCommand command) in C:\Users\jeevanthapa\Desktop\DotNetCourses\SolidApiDevMentor\MySpot\src\MySpot.Infrastructure\DAL\Decorators\UnitOfWorkCommandHandlerDecorator.cs:line 19
   at MySpot.Infrastructure.Logging.Decorators.LoggingCommandHandlerDecorator`1.HandleAsync(TCommand command) in C:\Users\jeevanthapa\Desktop\DotNetCourses\SolidApiDevMentor\MySpot\src\MySpot.Infrastructure\Logging\Decorators\LoggingCommandHandlerDecorator.cs:line 23
   at MySpot.Api.Controllers.UsersController.Post(SignIn command) in C:\Users\jeevanthapa\Desktop\DotNetCourses\SolidApiDevMentor\MySpot\src\MySpot.Api\Controllers\UsersController.cs:line 96
   at lambda_method189(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.ReDoc.ReDocMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at MySpot.Infrastructure.Exceptions.ExceptionMiddleware.InvokeAsync(HttpContext context, RequestDelegate next) in C:\Users\jeevanthapa\Desktop\DotNetCourses\SolidApiDevMentor\MySpot\src\MySpot.Infrastructure\Exceptions\ExceptionMiddleware.cs:line 21
2022-07-10 22:40:57.188 -04:00 [INF] Request finished HTTP/1.1 POST http://localhost/users/sign-in application/json;+charset=utf-8 52 - 500 - application/json;+charset=utf-8 19864.3060ms
2022-07-10 22:44:06.644 -04:00 [INF] User profile is available. Using 'C:\Users\jeevanthapa\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-07-10 22:44:07.873 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'MySpotDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.4+6cb649128e3e7aa8eddd77dfa75b34bad51e6e94' with options: None
2022-07-10 22:44:09.478 -04:00 [INF] Executed DbCommand (1,109ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE DATABASE "MySpot-test";
2022-07-10 22:44:09.794 -04:00 [INF] Executed DbCommand (29ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2022-07-10 22:44:09.884 -04:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2022-07-10 22:44:09.897 -04:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2022-07-10 22:44:09.917 -04:00 [INF] Applying migration '20220628144311_Users'.
2022-07-10 22:44:09.964 -04:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Users" (
    "Id" uuid NOT NULL,
    "Email" character varying(100) NOT NULL,
    "Username" character varying(30) NOT NULL,
    "Password" character varying(200) NOT NULL,
    "FullName" character varying(100) NOT NULL,
    "Role" character varying(30) NOT NULL,
    "CreatedAt" timestamp without time zone NOT NULL,
    CONSTRAINT "PK_Users" PRIMARY KEY ("Id")
);
2022-07-10 22:44:09.974 -04:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "WeeklyParkingSpots" (
    "Id" uuid NOT NULL,
    "Week" timestamp with time zone NOT NULL,
    "Name" text NOT NULL,
    "Capacity" integer NOT NULL,
    CONSTRAINT "PK_WeeklyParkingSpots" PRIMARY KEY ("Id")
);
2022-07-10 22:44:09.988 -04:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Reservations" (
    "Id" uuid NOT NULL,
    "Capacity" integer NOT NULL,
    "Date" timestamp with time zone NOT NULL,
    "Type" text NOT NULL,
    "WeeklyParkingSpotId" uuid NULL,
    "UserId" uuid NULL,
    "EmployeeName" text NULL,
    "LicencePlate" text NULL,
    CONSTRAINT "PK_Reservations" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_Reservations_Users_UserId" FOREIGN KEY ("UserId") REFERENCES "Users" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_Reservations_WeeklyParkingSpots_WeeklyParkingSpotId" FOREIGN KEY ("WeeklyParkingSpotId") REFERENCES "WeeklyParkingSpots" ("Id")
);
2022-07-10 22:44:09.994 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Reservations_UserId" ON "Reservations" ("UserId");
2022-07-10 22:44:09.999 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Reservations_WeeklyParkingSpotId" ON "Reservations" ("WeeklyParkingSpotId");
2022-07-10 22:44:10.004 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_Users_Email" ON "Users" ("Email");
2022-07-10 22:44:10.009 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_Users_Username" ON "Users" ("Username");
2022-07-10 22:44:10.013 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20220628144311_Users', '6.0.4');
2022-07-10 22:44:10.184 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "WeeklyParkingSpots" AS w)
2022-07-10 22:44:10.332 -04:00 [INF] Executed DbCommand (17ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Int32), @p2='?', @p3='?' (DbType = DateTimeOffset), @p4='?' (DbType = Guid), @p5='?' (DbType = Int32), @p6='?', @p7='?' (DbType = DateTimeOffset), @p8='?' (DbType = Guid), @p9='?' (DbType = Int32), @p10='?', @p11='?' (DbType = DateTimeOffset), @p12='?' (DbType = Guid), @p13='?' (DbType = Int32), @p14='?', @p15='?' (DbType = DateTimeOffset), @p16='?' (DbType = Guid), @p17='?' (DbType = Int32), @p18='?', @p19='?' (DbType = DateTimeOffset)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "WeeklyParkingSpots" ("Id", "Capacity", "Name", "Week")
VALUES (@p0, @p1, @p2, @p3);
INSERT INTO "WeeklyParkingSpots" ("Id", "Capacity", "Name", "Week")
VALUES (@p4, @p5, @p6, @p7);
INSERT INTO "WeeklyParkingSpots" ("Id", "Capacity", "Name", "Week")
VALUES (@p8, @p9, @p10, @p11);
INSERT INTO "WeeklyParkingSpots" ("Id", "Capacity", "Name", "Week")
VALUES (@p12, @p13, @p14, @p15);
INSERT INTO "WeeklyParkingSpots" ("Id", "Capacity", "Name", "Week")
VALUES (@p16, @p17, @p18, @p19);
2022-07-10 22:44:22.761 -04:00 [INF] Request starting HTTP/1.1 POST http://localhost/users/sign-in application/json;+charset=utf-8 52
2022-07-10 22:44:22.852 -04:00 [INF] Executing endpoint 'MySpot.Api.Controllers.UsersController.Post (MySpot.Api)'
2022-07-10 22:44:22.874 -04:00 [INF] Route matched with {action = "Post", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MySpot.Application.DTO.JwtDto]] Post(MySpot.Application.Commands.SignIn) on controller MySpot.Api.Controllers.UsersController (MySpot.Api).
2022-07-10 22:44:25.682 -04:00 [INF] Started handling a command: sign_in...
2022-07-10 22:44:25.689 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'MySpotDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.4+6cb649128e3e7aa8eddd77dfa75b34bad51e6e94' with options: None
2022-07-10 22:51:22.399 -04:00 [INF] User profile is available. Using 'C:\Users\jeevanthapa\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-07-10 22:51:23.616 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'MySpotDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.4+6cb649128e3e7aa8eddd77dfa75b34bad51e6e94' with options: None
2022-07-10 22:51:24.052 -04:00 [INF] Executed DbCommand (56ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2022-07-10 22:51:24.130 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2022-07-10 22:51:24.157 -04:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2022-07-10 22:51:24.181 -04:00 [INF] No migrations were applied. The database is already up to date.
2022-07-10 22:51:24.457 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "WeeklyParkingSpots" AS w)
2022-07-10 22:51:42.734 -04:00 [INF] Request starting HTTP/1.1 POST http://localhost/users/sign-in application/json;+charset=utf-8 52
2022-07-10 22:51:42.842 -04:00 [INF] Executing endpoint 'MySpot.Api.Controllers.UsersController.Post (MySpot.Api)'
2022-07-10 22:51:42.864 -04:00 [INF] Route matched with {action = "Post", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MySpot.Application.DTO.JwtDto]] Post(MySpot.Application.Commands.SignIn) on controller MySpot.Api.Controllers.UsersController (MySpot.Api).
2022-07-10 22:51:44.247 -04:00 [INF] Started handling a command: sign_in...
2022-07-10 22:51:44.255 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'MySpotDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.4+6cb649128e3e7aa8eddd77dfa75b34bad51e6e94' with options: None
2022-07-10 22:52:23.085 -04:00 [INF] Completed handling a command: sign_in.
2022-07-10 22:52:24.707 -04:00 [INF] Executing ObjectResult, writing value of type 'MySpot.Application.DTO.JwtDto'.
2022-07-10 22:52:24.750 -04:00 [INF] Executed action MySpot.Api.Controllers.UsersController.Post (MySpot.Api) in 41866.424ms
2022-07-10 22:52:24.753 -04:00 [INF] Executed endpoint 'MySpot.Api.Controllers.UsersController.Post (MySpot.Api)'
2022-07-10 22:52:26.860 -04:00 [INF] Request finished HTTP/1.1 POST http://localhost/users/sign-in application/json;+charset=utf-8 52 - 200 - application/json;+charset=utf-8 42043.1209ms
2022-07-10 22:57:36.730 -04:00 [INF] User profile is available. Using 'C:\Users\jeevanthapa\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-07-10 22:57:38.080 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'MySpotDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.4+6cb649128e3e7aa8eddd77dfa75b34bad51e6e94' with options: None
2022-07-10 22:57:39.615 -04:00 [INF] Executed DbCommand (1,205ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE DATABASE "MySpot-test";
2022-07-10 22:57:39.997 -04:00 [INF] Executed DbCommand (27ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2022-07-10 22:57:40.059 -04:00 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2022-07-10 22:57:40.066 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2022-07-10 22:57:40.079 -04:00 [INF] Applying migration '20220628144311_Users'.
2022-07-10 22:57:40.119 -04:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Users" (
    "Id" uuid NOT NULL,
    "Email" character varying(100) NOT NULL,
    "Username" character varying(30) NOT NULL,
    "Password" character varying(200) NOT NULL,
    "FullName" character varying(100) NOT NULL,
    "Role" character varying(30) NOT NULL,
    "CreatedAt" timestamp without time zone NOT NULL,
    CONSTRAINT "PK_Users" PRIMARY KEY ("Id")
);
2022-07-10 22:57:40.126 -04:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "WeeklyParkingSpots" (
    "Id" uuid NOT NULL,
    "Week" timestamp with time zone NOT NULL,
    "Name" text NOT NULL,
    "Capacity" integer NOT NULL,
    CONSTRAINT "PK_WeeklyParkingSpots" PRIMARY KEY ("Id")
);
2022-07-10 22:57:40.138 -04:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Reservations" (
    "Id" uuid NOT NULL,
    "Capacity" integer NOT NULL,
    "Date" timestamp with time zone NOT NULL,
    "Type" text NOT NULL,
    "WeeklyParkingSpotId" uuid NULL,
    "UserId" uuid NULL,
    "EmployeeName" text NULL,
    "LicencePlate" text NULL,
    CONSTRAINT "PK_Reservations" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_Reservations_Users_UserId" FOREIGN KEY ("UserId") REFERENCES "Users" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_Reservations_WeeklyParkingSpots_WeeklyParkingSpotId" FOREIGN KEY ("WeeklyParkingSpotId") REFERENCES "WeeklyParkingSpots" ("Id")
);
2022-07-10 22:57:40.141 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Reservations_UserId" ON "Reservations" ("UserId");
2022-07-10 22:57:40.143 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Reservations_WeeklyParkingSpotId" ON "Reservations" ("WeeklyParkingSpotId");
2022-07-10 22:57:40.147 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_Users_Email" ON "Users" ("Email");
2022-07-10 22:57:40.150 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_Users_Username" ON "Users" ("Username");
2022-07-10 22:57:40.151 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20220628144311_Users', '6.0.4');
2022-07-10 22:57:40.339 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "WeeklyParkingSpots" AS w)
2022-07-10 22:57:40.525 -04:00 [INF] Executed DbCommand (19ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Int32), @p2='?', @p3='?' (DbType = DateTimeOffset), @p4='?' (DbType = Guid), @p5='?' (DbType = Int32), @p6='?', @p7='?' (DbType = DateTimeOffset), @p8='?' (DbType = Guid), @p9='?' (DbType = Int32), @p10='?', @p11='?' (DbType = DateTimeOffset), @p12='?' (DbType = Guid), @p13='?' (DbType = Int32), @p14='?', @p15='?' (DbType = DateTimeOffset), @p16='?' (DbType = Guid), @p17='?' (DbType = Int32), @p18='?', @p19='?' (DbType = DateTimeOffset)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "WeeklyParkingSpots" ("Id", "Capacity", "Name", "Week")
VALUES (@p0, @p1, @p2, @p3);
INSERT INTO "WeeklyParkingSpots" ("Id", "Capacity", "Name", "Week")
VALUES (@p4, @p5, @p6, @p7);
INSERT INTO "WeeklyParkingSpots" ("Id", "Capacity", "Name", "Week")
VALUES (@p8, @p9, @p10, @p11);
INSERT INTO "WeeklyParkingSpots" ("Id", "Capacity", "Name", "Week")
VALUES (@p12, @p13, @p14, @p15);
INSERT INTO "WeeklyParkingSpots" ("Id", "Capacity", "Name", "Week")
VALUES (@p16, @p17, @p18, @p19);
2022-07-10 22:57:41.416 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost/Users/me - -
2022-07-10 22:57:41.695 -04:00 [INF] Executing endpoint 'MySpot.Api.Controllers.UsersController.Get (MySpot.Api)'
2022-07-10 22:57:41.720 -04:00 [INF] Route matched with {action = "Get", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MySpot.Application.DTO.UserDto]] Get() on controller MySpot.Api.Controllers.UsersController (MySpot.Api).
2022-07-10 22:57:41.748 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'MySpotDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.4+6cb649128e3e7aa8eddd77dfa75b34bad51e6e94' with options: None
2022-07-10 22:57:41.827 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."FullName", u."Password", u."Role", u."Username"
FROM "Users" AS u
WHERE u."Id" = @__userId_0
LIMIT 2
2022-07-10 22:57:41.837 -04:00 [INF] Executing ObjectResult, writing value of type 'MySpot.Application.DTO.UserDto'.
2022-07-10 22:57:41.858 -04:00 [INF] Executed action MySpot.Api.Controllers.UsersController.Get (MySpot.Api) in 132.9854ms
2022-07-10 22:57:41.859 -04:00 [INF] Executed endpoint 'MySpot.Api.Controllers.UsersController.Get (MySpot.Api)'
2022-07-10 22:57:41.863 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost/Users/me - - - 200 - application/json;+charset=utf-8 449.9717ms
